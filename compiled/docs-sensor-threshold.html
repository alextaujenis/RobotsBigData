<!DOCTYPE html><html lang="en"><head><title>Robots + Big Data: Threshold Documentation</title><link href="../bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"><link href="style/shCore.css" rel="stylesheet" type="text/css"><link href="style/shCoreDefault.css" rel="stylesheet" type="text/css"><link href="style/shThemeDefault.css" rel="stylesheet" type="text/css"><link href="style/style.css" rel="stylesheet" type="text/css"><link href="style/docs.css" rel="stylesheet" type="text/css"><meta content="width=device-width initial-scale=1" name="viewport"></head><body><a name="top"></a><div class="navbar navbar-default navbar-fixed-top"><div class="container-fluid"><div class="navbar-header"><button id="toggle" type="button" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false" class="navbar-toggle collapsed"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="index.html" class="navbar-brand">Robots + Big Data</a></div><!-- Collect the links for mobile toggling--><div id="navbar-collapse" class="collapse navbar-collapse"><ul class="nav navbar-nav"><li><a href="docs.html">Docs</a></li><li><a href="install.html">Install</a></li><li><a href="projects.html">Projects</a></li><li><a href="#">GitHub</a></li><li><a href="#top" class="back-to-top">BACK TO TOP</a></li></ul></div></div></div><div class="top-nav-spacer">&nbsp;</div><div class="container-fluid"><div class="row"><div class="col-sm-3 col-lg-2"><div class="panel panel-default side-panel"><div class="panel-heading"><div class="panel-title"><a href="docs.html">Docs</a></div></div><div class="panel-body"><h3><a href="docs-sensor.html">ARDUINO SENSOR LIBRARIES</a></h3><ul><li><a href="docs-sensor-capacitance.html">Capacitance</a></li><li><a href="docs-sensor-light.html">Light</a><span data-toggle="tooltip" data-placement="left" title="Timer Dependency" class="badge pull-right">1</span></li><li><a href="docs-sensor-light-sensor.html">LightSensor</a></li><li><a href="docs-sensor-motor.html">Motor</a><span data-toggle="tooltip" data-placement="left" title="Timer Dependency" class="badge pull-right">1</span></li><li><a href="docs-sensor-threshold.html">Threshold</a></li><li><a href="docs-sensor-timer.html">Timer</a></li><li><a href="docs-sensor-water-sensor.html">WaterSensor</a><span data-toggle="tooltip" data-placement="left" title="Capacitance, Threshold, and Timer Dependencies" class="badge pull-right">3</span></li></ul><h3><a href="docs-server.html">RASPBERRY PI SERVER MODULES</a></h3><ul><li><a href="docs-server-camera.html">Camera</a></li><li><a href="docs-server-conductor.html">Conductor</a></li><li><a href="docs-server-config.html">Config</a></li><li><a href="docs-server-database.html">Database</a></li><li><a href="docs-server-image.html">Image</a></li><li><a href="docs-server-timer.html">Timer</a></li><li><a href="docs-server-usb.html">USB</a></li><li><a href="docs-server-webserver.html">WebServer</a></li></ul><h3><a href="docs-client.html">WEB & MOBILE CLIENT PLUGINS</a></h3><ul><li><a href="docs-client-button.html">Button</a></li><li><a href="docs-client-camera.html">Camera</a></li><li><a href="docs-client-gps.html">GPS</a></li><li><a href="docs-client-joystick.html">Joystick</a></li><li><a href="docs-client-motion.html">Motion</a></li><li><a href="docs-client-slider.html">Slider</a></li><li><a href="docs-client-toggle.html">Toggle</a></li><li><a href="docs-client-xy-map.html">XYMap</a></li></ul><h3><a href="">OTHER INCLUDED PACKAGES</a></h3><ul><li><a href="#">Build Package</a></li><li><a href="#">Code Testing</a></li><li><a href="#">Database</a></li><li><a href="#">Front-End MVC</a></li><li><a href="#">Operating System</a></li><li><a href="#">Server Management</a></li><li><a href="#">Streaming I/O</a></li><li><a href="#">Audio/Video Server</a></li><li><a href="#">Web Server</a></li></ul></div></div></div><div class="documentation col-sm-9 col-lg-10"><ol class="breadcrumb"><li><a href="index.html">Home</a></li><li><a href="docs.html">Docs</a></li><li class="active">Threshold</li></ol><div class="jumbotron"><h2>Threshold<small> API DOCUMENTATION</small></h2><p>Quickly set and check quantile ranges.</p><a href="#download" class="btn btn-success">Download</a>&nbsp;&nbsp;<a href="#example" class="btn btn-default">See Example</a>&nbsp;&nbsp;<a href="#public-methods" class="btn btn-default">Public Methods</a></div><h3><a name="download"></a>Download</h3><p class="lead">This library is part of a larger package that you can download to access<i> all</i> of the documented sensors, or you can use this library by itself.</p><p><ul><li><a href="#">Download Full Sensor Package</a> with this library included</li><li><a href="#">Download Threshold Library</a> (by itself)</li><li><a href="#">View Source on GitHub</a> with MIT license</li></ul></p><h3><a name="setup"></a>Example Setup</h3><p class="lead">This takes an input domain of [under 0, 0-9, 10-19, 20-29, over 29] and converts it to a quantile output range of [under, low, medium, high, over]<ul><li>Install this library and load the example sketch on to an Arduino</li><li>Open a serial connection at 115200 BAUD</li><li>Watch as values are converted into the output range</li></ul></p><h3><a name="example"></a>Example<span class="label label-info">Arduino</span><span class="label label-primary">C++</span></h3><script type="syntaxhighlighter" class="brush: cpp; gutter: false;"><![CDATA[#include <Threshold.h>

Threshold threshold(3);

void setup() {
  threshold.setLevel(1,0);   // [0 - 9]       low
  threshold.setLevel(2,10);  // [10 - 19]     medium
  threshold.setLevel(3,20);  // [20 - max]    high
  threshold.setMaxLevel(30); // max = 30      high
}

void loop() {
  compute(-1);  // => 0   under
  compute(0);   // => 1   low
  compute(1);   // => 1   low
  compute(9);   // => 1   low
  compute(10);  // => 2   med
  compute(11);  // => 2   med
  compute(15);  // => 2   med
  compute(20);  // => 3   high
  compute(30);  // => 3   high
  compute(99);  // => 4   over
  compute(999); // => 4   over
}

void compute(int value) {
  Serial.print("value: ");
  Serial.print(value);
  Serial.print(" level: ");
  Serial.println(threshold.computeLevel(value));
  delay(500); // delay sucks but it helps see serial output here
}]]></script><h3><a name="public-methods"></a>Public Methods</h3><h4 class="class-name"><script type="syntaxhighlighter" class="brush: cpp; gutter: false;"><![CDATA[Threshold
]]></script></h4><ul class="public-methods"><li><a href="#constructor" class="click-flash">constructor(level_count)</a></li><li><a href="#setlevel" class="click-flash">.setLevel(index, value)</a></li><li><a href="#setmaxlevel" class="click-flash">.setMaxLevel(value)</a></li><li><a href="#getlevel" class="click-flash">.getLevel(index)</a></li><li><a href="#getmaxlevel" class="click-flash">.getMaxLevel()</a></li><li><a href="#computelevel" class="click-flash">.computeLevel(value)</a></li></ul><div class="section"><a name="constructor"></a><h4>Threshold constructor(level_count)</h4><p>Create a new instance and provide an integer for the maximum number of levels of this threshold. For example; set the level_count to 3 if you have levels of low, medium, and high. If you need more than 3 levels, this library will dynamically allocate an array large enough to accommodate the size you provide the constructor.</p><h5>EXAMPLE SKETCH</h5><script type="syntaxhighlighter" class="brush: cpp; gutter: false;"><![CDATA[Threshold threshold(3) // 3 levels

void setup() {
  ...
}
]]></script></div><div class="section"><a name="setlevel"></a><h4>threshold.setLevel(index, value)</h4><p>Provide integers for the index and value to set an individual level. This is not zero based, the first level starts at 1. You must also call&nbsp;<a href="#setmaxlevel" class="click-flash">.setMaxLevel()</a> at the end to set an upper bounds of your last level.</p><h5>EXAMPLE SKETCH</h5><script type="syntaxhighlighter" class="brush: cpp; gutter: false;"><![CDATA[void setup() {
  threshold.setLevel(1,0);   // [0 - 9]
  threshold.setLevel(2,10);  // [10 - 19]
  threshold.setLevel(3,20);  // [20 - max]
}
]]></script></div><div class="section"><a name="setmaxlevel"></a><h4>threshold.setMaxLevel()</h4><p>Set the upper-bounds threshold of the last level.</p><h5>EXAMPLE SKETCH</h5><script type="syntaxhighlighter" class="brush: cpp; gutter: false;"><![CDATA[void setup() {
  threshold.setMaxLevel(30); // max = 30
}
]]></script></div><div class="section"><a name="getlevel"></a><h4>threshold.getLevel(index)</h4><p>Provide an integer for a level index and this returns the value set for that level.</p><h5>EXAMPLE SKETCH</h5><script type="syntaxhighlighter" class="brush: cpp; gutter: false;"><![CDATA[void loop() {
  Serial.println(threshold.getLevel(3); // => 20
}
]]></script></div><div class="section"><a name="getmaxlevel"></a><h4>threshold.getMaxLevel()</h4><p>Returns the upper-bounds threshold of the last level.</p><h5>EXAMPLE SKETCH</h5><script type="syntaxhighlighter" class="brush: cpp; gutter: false;"><![CDATA[void setup() {
  Serial.println(threshold.getMaxLevel()); // => 30
}
]]></script></div><div class="section"><a name="computelevel"></a><h4>threshold.computeLevel(value)</h4><p>Provide an integer for the input domain and this returns an integer threshold level.</p><ul><li>it returns 0 for values that are under the first level</li><li>1 for your first level</li><li>2 for your second level</li><li>n for your nth level</li><li>sizeof(n) + 1 for any value greater than getMaxLevel()</li><li>-1 if an error was found in the input domain (non-contiguous range)</li></ul><h5>EXAMPLE SKETCH</h5><script type="syntaxhighlighter" class="brush: cpp; gutter: false;"><![CDATA[void loop() {
  Serial.println(threshold.computeLevel(17)); // => 2 medium
}

]]></script></div><div class="section-bottom"></div></div></div></div><script src="../bower_components/jquery/dist/jquery.min.js"></script><script src="../bower_components/bootstrap/dist/js/bootstrap.min.js"></script><script src="code/init_bootstrap.js"></script><script src="code/back_to_top.js"></script><script src="libraries/shCore.js"></script><script src="libraries/shLegacy.js"></script><script src="libraries/shAutoloader.js"></script><script src="libraries/shBrushCpp.js"></script><script src="code/syntax_highlighter.js"></script><script src="libraries/click_flash.js"></script><script src="libraries/jquery.color.min.js"></script></body></html>