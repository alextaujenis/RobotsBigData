<!DOCTYPE html><html lang="en"><head><title>Robots + Big Data: Arduino Button Docs</title><meta name="description" content="Read and debounce buttons and switches without delay or interrupts. React to button events with the onPressed() and onReleased() commands."><link href="assets/style/bootstrap.min.css" rel="stylesheet" type="text/css"><link href="assets/style/shCore.css" rel="stylesheet" type="text/css"><link href="assets/style/shCoreDefault.css" rel="stylesheet" type="text/css"><link href="assets/style/shThemeDefault.css" rel="stylesheet" type="text/css"><link href="assets/style/style.css" rel="stylesheet" type="text/css"><link href="assets/style/docs.css" rel="stylesheet" type="text/css"><link href="assets/style/install.css" rel="stylesheet" type="text/css"><link href="assets/style/index.css" rel="stylesheet" type="text/css"><link rel="shortcut icon" href="assets/images/favicon.png"><meta content="width=device-width, initial-scale=1" name="viewport"></head><body><div id="top"></div><div class="top-nav-spacer1 stuck">&nbsp;</div><div class="top-nav-spacer2">&nbsp;</div><div class="navbar navbar-default navbar-fixed-top"><div class="container-fluid"><div class="navbar-header"><button id="toggle" type="button" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false" class="navbar-toggle collapsed"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="index.html" class="navbar-brand"><img src="assets/images/robots-big-data-logo-sm.png" alt="Robots + Big Data"></a></div><!-- Collect the links for mobile toggling--><div id="navbar-collapse" class="collapse navbar-collapse"><ul class="nav navbar-nav"><li><a href="install.html">Install</a></li><li><a href="docs-arduino.html">Docs</a></li><li><a href="github.html">GitHub</a></li><li><a href="#top" style="display:none;" class="back-to-top">BACK TO TOP</a></li></ul></div></div></div><div class="container-fluid"><div class="row"><div class="hidden-xs col-sm-4 stuck"><div class="panel panel-default side-panel"><div class="panel-heading"><div class="panel-title"><a href="docs-arduino.html">Arduino Libraries</a></div></div><div translate="no" class="panel-body"><h3 translate="yes">Components</h3><ul><li><a href="docs-arduino-button.html">Button</a></li><li><a href="docs-arduino-light.html">Light</a></li><li><a href="docs-arduino-motor.html">Motor</a></li><li><a href="docs-arduino-servo.html">Servo</a></li></ul><h3 translate="yes">Sensors</h3><ul><li><a href="docs-arduino-light-sensor.html">Light Sensor</a></li><li><a href="docs-arduino-water-sensor.html">Water Sensor</a></li><li><a href="docs-arduino-human-sensor.html">Human Sensor</a></li></ul><h3 translate="yes">Additional Libraries</h3><ul><li><a href="docs-arduino-timer.html">Timer</a></li><li><a href="docs-arduino-threshold.html">Threshold</a></li><li><a href="docs-arduino-capacitance.html">Capacitance</a></li><li><a href="docs-arduino-serial-manager.html">Serial Manager</a></li></ul></div></div></div><div class="documentation col-sm-8"><div class="breadcrumb-container stuck"><ol class="breadcrumb"><li><a href="index.html">Home</a></li><li><a href="docs-arduino.html">Arduino</a></li><li translate="no" class="active">Button</li></ol><div class="breadcrumb-icons pull-right"><div class="icon-container pull-right"><a href="https://github.com/alextaujenis/RBD_Button"><div class="icon"><div class="image"><img src="assets/images/github-logo.png" alt="GitHub Logo"></div><div class="text-container"><div class="name">View Source on GitHub</div><div class="subtitle">With MIT License</div></div></div></a></div><div data-toggle="tooltip" data-placement="bottom" title="Click to download the Button library with the Timer dependency" class="icon-container pull-right download-button"><a href="assets/downloads/Button.zip"><div class="icon"><div class="image"><img src="assets/images/zip-icon.png" alt=".zip icon"></div><div class="text-container"><div class="name">Button.zip</div><div class="subtitle">21KB Download</div></div></div></a></div><div class="clearfix"></div></div><div class="clearfix"></div></div><div class="jumbotron"><div class="stuck click-through"><div class="row jumbotron-header click-through"><div class="col-xs-12 text-right click-through"><span class="label label-info title-label">Arduino</span></div></div></div><div class="jumbotron-container"><h2 translate="no">Button<small translate="yes">API DOCUMENTATION</small></h2><p>Read and debounce buttons and switches.<small>v1.0.1</small></p><a href="#example-wiring" class="btn btn-primary">See Example</a>&nbsp;&nbsp;<a href="#public-methods" class="btn btn-default">Public Methods</a>&nbsp;&nbsp;<a href="https://github.com/alextaujenis/RBD_Button/releases" class="btn btn-default">Release Notes</a></div></div><div class="h3"><div id="overview" class="anchor"></div>Overview</div><p class="lead">Read and debounce buttons and switches without delay or interrupts. React to button events with the&nbsp;<a href="#onpressed" translate="no" class="click-flash">onPressed()</a> and&nbsp;<a href="#onreleased" translate="no" class="click-flash">onReleased()</a> commands. Control debounce time with&nbsp;<a href="#setdebouncetimeout" translate="no" class="click-flash">setDebounceTimeout()</a>.</p><p class="lead">This library sets each button up as input_pullup by default, allowing you to wire the button to any digital input and ground. Input_pullup can be disabled by passing an optional flag to the&nbsp;<a href="#constructor" translate="no" class="click-flash">constructor()</a> and wiring the button with your own resistor.</p><div class="h3"><div id="example-wiring" class="anchor"></div>Example Wiring</div><ol><li>Connect the Arduino&nbsp;<span class="ground-wire">ground pin</span> to one of the button terminals</li><li>Connect the Arduino&nbsp;<span class="control-wire">digital pin 2</span> to the other button terminal</li><li>Load the&nbsp;<a href="#example-sketch">Example Sketch</a> onto the Arduino</li><li>Open a serial connection at 115200 baud and press the button</li></ol><p><img src="assets/images/arduino-button-wiring-diagram.png" alt="A mechanical push button wired to an Arduino Micro pin 2 and ground." class="img-responsive"></p><div class="h3"><div id="example-sketch" class="anchor"></div>Example Sketch<span class="label label-info">Arduino</span><span class="label label-primary">C++</span></div><div translate="no"><script type="syntaxhighlighter" class="brush: arduino; gutter: false;"><![CDATA[#include <RBD_Timer.h>
#include <RBD_Button.h>

RBD::Button button(2); // input_pullup by default

void setup() {
  Serial.begin(115200);
}

void loop() {
  if(button.onPressed()) {
    Serial.println("Button Pressed");
  }

  if(button.onReleased()) {
    Serial.println("Button Released");
  }
}
]]></script></div><div class="h3"><div id="public-methods" class="anchor"></div>Public Methods</div><h4 translate="no" class="class-name"><script type="syntaxhighlighter" class="brush: arduino; gutter: false;"><![CDATA[RBD::Button
]]></script></h4><ul translate="no" class="public-methods"><li><a href="#constructor" class="click-flash">constructor(pin, [input_pullup])</a></li><li class="divider"></li><li><a href="#setdebouncetimeout" class="click-flash">.setDebounceTimeout(value)</a></li><li><a href="#ispressed" class="click-flash">.isPressed()</a></li><li><a href="#isreleased" class="click-flash">.isReleased()</a></li><li class="divider"></li><li><a href="#onpressed" class="click-flash">.onPressed()</a><span data-toggle="tooltip" data-placement="right" title="Event: Use this method to find when an event has been triggered." translate="yes" class="label label-default">Event</span></li><li><a href="#onreleased" class="click-flash">.onReleased()</a><span data-toggle="tooltip" data-placement="right" title="Event: Use this method to find when an event has been triggered." translate="yes" class="label label-default">Event</span></li><li class="divider"></li><li><a href="#inputpullup" class="click-flash">.inputPullup()</a></li><li><a href="#disableinputpullup" class="click-flash">.disableInputPullup()</a></li><li><a href="#invertreading" class="click-flash">.invertReading()</a></li><li><a href="#resetreading" class="click-flash">.resetReading()</a></li></ul><div class="section"><div translate="no" class="method-name"><div id="constructor" class="anchor"></div>RBD::Button constructor(pin, [input_pullup])</div><p>Create a new button and pass in the Arduino pin number. This library will default to input_pullup and invert the button readings to simplify wiring for you. Pass in the second [optional] parameter as false to disable input_pullup.</p><h5>EXAMPLE&nbsp;<span translate="no">SKETCH</span></h5><div translate="no"><script type="syntaxhighlighter" class="brush: arduino; gutter: false;"><![CDATA[RBD::Button button(2);

void setup() {
  ...
}
]]></script></div></div><div class="section"><div translate="no" class="method-name"><div id="setdebouncetimeout" class="anchor"></div><div class="light">button</div>.setDebounceTimeout(value)</div><p>Pass in an unsigned long value to set the debounce time in milliseconds. Most mechanical buttons will flip between on and off very quickly before settling in the correct state when you switch them. Adjusting the debounce timeout will help remove these extra state-change events.</p><h5>EXAMPLE&nbsp;<span translate="no">SKETCH</span></h5><div translate="no"><script type="syntaxhighlighter" class="brush: arduino; gutter: false;"><![CDATA[void setup() {
  button.setDebounceTimeout(10) // default ms
}
]]></script></div></div><div class="section"><div translate="no" class="method-name"><div id="ispressed" class="anchor"></div><div class="light">button</div>.isPressed()</div><p>Returns true while the button is being pressed, or is on. Returns false while the button is not being pressed, or is off.</p><p>This method is good for real-time actions that must fire many times during a button press. Use the&nbsp;<a href="#onpressed" translate="no" class="click-flash">onPressed()</a> event to fire only one action on each button press.</p><h5>EXAMPLE&nbsp;<span translate="no">SKETCH</span></h5><div translate="no"><script type="syntaxhighlighter" class="brush: arduino; gutter: false;"><![CDATA[void loop() {
  if(button.isPressed()) {
    // code executes on each loop
    Serial.println("Button Pressed");
  }
}
]]></script></div></div><div class="section"><div translate="no" class="method-name"><div id="isreleased" class="anchor"></div><div class="light">button</div>.isReleased()</div><p>Returns true while the button is released, or is off. Returns false while the button is being pressed, or is on.</p><p>This method is good for real-time actions that must fire many times while the button is not pressed. Use the&nbsp;<a href="#onreleased" translate="no" class="click-flash">onReleased()</a> event to fire only one action on each button release.</p><h5>EXAMPLE&nbsp;<span translate="no">SKETCH</span></h5><div translate="no"><script type="syntaxhighlighter" class="brush: arduino; gutter: false;"><![CDATA[void loop() {
  if(button.isReleased()) {
    // code executes on each loop
    Serial.println("Button Released");
  }
}
]]></script></div></div><div class="section"><div translate="no" class="method-name"><div id="onpressed" class="anchor"></div><div class="light">button</div>.onPressed()<span data-toggle="tooltip" data-placement="right" title="Event: Use this method to find when an event has been triggered." translate="yes" class="label label-default">Event</span></div><p>This will return true only once, after the button has been pressed (and debounced). The button must be released and then pressed again for this method to return true again.</p><h5>EXAMPLE&nbsp;<span translate="no">SKETCH</span></h5><div translate="no"><script type="syntaxhighlighter" class="brush: arduino; gutter: false;"><![CDATA[void loop() {
  if(button.onPressed()) {
    // code only runs once per event
    Serial.println("Button Pressed Event");
  }
}
]]></script></div></div><div class="section"><div translate="no" class="method-name"><div id="onreleased" class="anchor"></div><div class="light">button</div>.onReleased()<span data-toggle="tooltip" data-placement="right" title="Event: Use this method to find when an event has been triggered." translate="yes" class="label label-default">Event</span></div><p>This will return true only once, after the button has been released (and debounced). The button must be pressed and then released again for this method to return true again.</p><h5>EXAMPLE&nbsp;<span translate="no">SKETCH</span></h5><div translate="no"><script type="syntaxhighlighter" class="brush: arduino; gutter: false;"><![CDATA[void loop() {
  if(button.onReleased()) {
    // code only runs once per event
    Serial.println("Button Released Event");
  }
}
]]></script></div></div><div class="section"><div translate="no" class="method-name"><div id="inputpullup" class="anchor"></div><div class="light">button</div>.inputPullup()</div><p>Set the button as INPUT_PULLUP and invert the button state readings (to give you the correct value). This allows you to wire the button to a digital pin and ground while using the internal resistor to protect the Arduino pin.</p><p>This method is called by default in the&nbsp;<a href="#constructor" translate="no" class="click-flash">constructor()</a> if you leave out the [optional] input_pullup flag. This method is provided for convenience only.</p><h5>EXAMPLE&nbsp;<span translate="no">SKETCH</span></h5><div translate="no"><script type="syntaxhighlighter" class="brush: arduino; gutter: false;"><![CDATA[// RBD::Button button(2) // inputPullup() called by default

void setup() {
  button.inputPullup();
}
]]></script></div></div><div class="section"><div translate="no" class="method-name"><div id="disableinputpullup" class="anchor"></div><div class="light">button</div>.disableInputPullup()</div><p>Set the button as INPUT and set the button state readings back to normal (not inverted). This is the opposite of calling&nbsp;<a href="#inputpullup" translate="no" class="click-flash">inputPullup()</a>.</p><p>The best way to disable input_pullup with this library is to call the&nbsp;<a href="#constructor" translate="no" class="click-flash">constructor()</a> with a false [input_pullup] flag instead of using this method. This method is provided for convenience only.</p><h5>EXAMPLE&nbsp;<span translate="no">SKETCH</span></h5><div translate="no"><script type="syntaxhighlighter" class="brush: arduino; gutter: false;"><![CDATA[// RBD::Button button(2, false) // preferred

void setup() {
  button.disableInputPullup();
}
]]></script></div></div><div class="section"><div translate="no" class="method-name"><div id="invertreading" class="anchor"></div><div class="light">button</div>.invertReading()</div><p>Flip the value of the raw button state reading so when the button is HIGH, it registers as LOW, and vice versa. This is used when the button is set as input_pullup (by default), because the button is normally HIGH when off, and LOW when on, so flipping the readings gives the correct state of the button.</p><p>This method is automatically called when using this library as input_pullup, which is the default behavior. This method is provided for convenience only.</p><h5>EXAMPLE&nbsp;<span translate="no">SKETCH</span></h5><div translate="no"><script type="syntaxhighlighter" class="brush: arduino; gutter: false;"><![CDATA[void setup() {
  button.invertReading();
}
]]></script></div></div><div class="section"><div translate="no" class="method-name"><div id="resetreading" class="anchor"></div><div class="light">button</div>.resetReading()</div><p>Return the button state reading back to normal. This is the opposite of calling&nbsp;<a href="#invertreading" translate="no" class="click-flash">invertReading()</a>.</p><P>This method is called by default when using&nbsp;<a href="#disableinputpullup" translate="no" class="click-flash">disableInputPullup(),</a> or when providing a false [input_pullup] flag in the&nbsp;<a href="#constructor" translate="no" class="click-flash">constructor()</a>. This method is provided for convenience only.</P><h5>EXAMPLE&nbsp;<span translate="no">SKETCH</span></h5><div translate="no"><script type="syntaxhighlighter" class="brush: arduino; gutter: false;"><![CDATA[void setup() {
  button.resetReading();
}
]]></script></div></div><div class="bottom-nav hidden visible-xs-block"><div class="panel panel-default side-panel"><div class="panel-heading"><div class="panel-title"><a href="docs-arduino.html">Arduino Libraries</a></div></div><div translate="no" class="panel-body"><h3 translate="yes">Components</h3><ul><li><a href="docs-arduino-button.html">Button</a></li><li><a href="docs-arduino-light.html">Light</a></li><li><a href="docs-arduino-motor.html">Motor</a></li><li><a href="docs-arduino-servo.html">Servo</a></li></ul><h3 translate="yes">Sensors</h3><ul><li><a href="docs-arduino-light-sensor.html">Light Sensor</a></li><li><a href="docs-arduino-water-sensor.html">Water Sensor</a></li><li><a href="docs-arduino-human-sensor.html">Human Sensor</a></li></ul><h3 translate="yes">Additional Libraries</h3><ul><li><a href="docs-arduino-timer.html">Timer</a></li><li><a href="docs-arduino-threshold.html">Threshold</a></li><li><a href="docs-arduino-capacitance.html">Capacitance</a></li><li><a href="docs-arduino-serial-manager.html">Serial Manager</a></li></ul></div></div></div></div></div></div><div id="modal" tabindex="-1" role="dialog" class="modal fade"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" data-dismiss="modal" aria-label="Close" class="close"><span aria-hidden="true">x</span></button><h4 id="modalLabel" class="modal-title">Library Installation</h4></div><div class="modal-body"><div class="install-step"><h3>Step 1</h3><p class="lead">Check your downloads folder and double-click the&nbsp;<img src="src/images/zip-icon.png" alt=".zip icon"> Button.zip file.</p></div><div class="install-step"><h3>Step 2</h3><p class="lead">Move the un-zipped contents of the&nbsp;<img src="src/images/folder-icon.png" alt="folder icon"> Button folder to the Arduino&nbsp;<img src="src/images/folder-icon.png" alt="folder icon"> libraries folder:</p><h5>INSTALL PATH</h5><div translate="no"><script type="syntaxhighlighter" class="brush: shell; gutter: false;"><![CDATA[Windows:       My Documents\Arduino\libraries
Mac & Linux:   Documents/Arduino/libraries
]]></script><h5>FOLDER STRUCTURE</h5><div class="image"><img src="assets/images/install-folder-structure-documents.png" alt="Documents/Arduino/Libraries"></div><div class="image"><img src="assets/images/install-folder-structure-button.png" alt="RBD_Button"></div><div class="image"><img src="assets/images/install-folder-structure-timer.png" alt="RBD_Timer"></div></div></div><div class="install-step"><h3>Step 3</h3><p class="lead">Upgrade to&nbsp;<a href="https://www.arduino.cc/en/Main/Software">Arduino IDE v1.5 or greater</a> and load the&nbsp;<a href="#example-sketch" class="close-modal">Example Sketch</a> to get started.</p></div></div><div class="modal-footer"><button type="button" data-dismiss="modal" class="btn btn-default">Close</button></div></div></div></div><div class="navbar navbar-default navbar-footer"><div class="container-fluid"><div class="row"><div class="col-xs-12 text-center">&copy; 2015&nbsp;<a href="http://opensource.org/licenses/mit-license.php">MIT License</a></div></div></div></div><script src="assets/code/jquery.min.js"></script><script src="assets/code/bootstrap.min.js"></script><script src="assets/code/init_bootstrap.js"></script><script src="assets/code/back_to_top.js"></script><script src="assets/code/jquery.stuck.js"></script><script src="assets/code/init_jquery_stuck.js"></script><script src="assets/code/google_analytics.js"></script><script src="assets/code/inspectlet.js"></script><script src="assets/code/shCore.js"></script><script src="assets/code/shLegacy.js"></script><script src="assets/code/shAutoloader.js"></script><script src="assets/code/shBrushArduino.js"></script><script src="assets/code/shBrushBash.js"></script><script src="assets/code/shBrushJScript.js"></script><script src="assets/code/syntax_highlighter.js"></script><script src="assets/code/click_flash.js"></script><script src="assets/code/jquery.color.min.js"></script><script src="assets/code/download_instructions.js"></script><script src="assets/code/example_sketch_buttons.js"></script></body></html>